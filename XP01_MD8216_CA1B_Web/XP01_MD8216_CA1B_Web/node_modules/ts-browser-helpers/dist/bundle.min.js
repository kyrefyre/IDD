/**
 * @license
 * ts-browser-helpers v0.14.2
 * Copyright 2022-2024 repalash <palash@shaders.app>
 * MIT License
 */
"use strict";class e{constructor(){this._eventListeners={},this.dispatchEvent=this.dispatchEvent.bind(this),this.addEventListener=this.addEventListener.bind(this),this.removeEventListener=this.removeEventListener.bind(this),this.hasEventListener=this.hasEventListener.bind(this)}addEventListener(e,t){const r=this._eventListeners;void 0===r[e]&&(r[e]=[]),r[e].includes(t)||r[e].push(t)}hasEventListener(e,t){const r=this._eventListeners;return void 0!==r[e]&&r[e].includes(t)}removeEventListener(e,t){const r=this._eventListeners[e];if(void 0!==r){const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}dispatchEvent(e){const t=this._eventListeners[e.type];if(void 0!==t){e.target=this;const r=t.slice(0);for(let t=0,n=r.length;t<n;t++)r[t].call(this,e)}}}function t(){return("undefined"==typeof performance?Date:performance).now()}
/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class r{constructor(e=r.DECAY_MILLISECONDS){this.velocity=0,this.naturalFrequency=0,this.setDecayTime(e)}setDecayTime(e){this.naturalFrequency=1/Math.max(r.MIN_DECAY_MILLISECONDS,e)}update(e,t,r,n){const i=2e-4*this.naturalFrequency;if(null==e||0===n)return t;if(e===t&&0===this.velocity)return t;if(r<0)return e;const o=e-t,s=this.velocity+this.naturalFrequency*o,a=o+r*s,c=Math.exp(-this.naturalFrequency*r),l=(s-this.naturalFrequency*a)*c,p=-this.naturalFrequency*(l+s*c);return Math.abs(l)<i*Math.abs(n)&&p*o>=0?(this.velocity=0,t):(this.velocity=l,t+a*c)}}async function n(e){return new Promise(((t,r)=>{const n=new Image;n.onload=()=>t(n),n.onerror=r,n.crossOrigin="anonymous",n.decoding="sync",n.src=e}))}function i(e,t=document.head){const r=document.createElement("style");return r.type="text/css",r.innerText=e,null==t||t.appendChild(r),r}function o(e,t){(t=null!=t?t:document.createElement("script")).type=e.type||"text/javascript",t.text=e.text;for(let r=0;r<e.attributes.length;r++){const n=e.attributes[r];t.setAttribute(n.name,n.value)}return t}r.SETTLING_TIME=1e4,r.MIN_DECAY_MILLISECONDS=.001,r.DECAY_MILLISECONDS=50;const s={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function a(e){return e.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")}function c(e,t,r){return e.replace(new RegExp(a(t),"g"),r)}const l=(e,...t)=>String.raw({raw:e},...t),p=(e,...t)=>{let r=String.raw({raw:e},...t);return r=c(r,"%","%25"),r=c(r,"> <","><"),r=c(r,"; }",";}"),r=c(r,"<","%3c"),r=c(r,">","%3e"),r=c(r,'"',"'"),r=c(r,"#","%23"),r=c(r,"{","%7b"),r=c(r,"}","%7d"),r=c(r,"|","%7c"),r=c(r,"^","%5e"),r=c(r,"`","%60"),r=c(r,"@","%40"),r=c(r,"&","&amp;"),r=c(r,"\n","%0A"),"data:image/svg+xml;charset=UTF-8,"+r};function u(e,t){const r=window.URL.createObjectURL(e),n=document.createElement("a");n.style.display="none",n.href=r,n.download=t,document.body.appendChild(n),n.click(),setTimeout((()=>{document.body.removeChild(n),window.URL.revokeObjectURL(r)}),1e3)}async function d(e){return new Promise(((t,r)=>{const n=new FileReader;n.onload=e=>t(n.result),n.onerror=e=>r(n.error),n.onabort=e=>r(new Error("Read aborted")),n.readAsDataURL(e)}))}function h(e,t){let r;do{r=Object.getOwnPropertyDescriptor(e,t)}while(!r&&(e=Object.getPrototypeOf(e)));return r}function m(e,t,r=!0,n=!1){const i=h(e,t);return!!(null==i?void 0:i.set)||r&&!1!==(null==i?void 0:i.writable)&&void 0===(null==i?void 0:i.get)||n&&!i}function f(e,t,r,n=!0,i=!1){return!(!e||!m(e,t,n,i))&&(e[t]=r,!0)}function w(e,t){for(let r=e.length-1;r>=0;r--)if(t(e[r]))return r;return-1}function g(e,t){return Object.hasOwn?Object.hasOwn(e,t):e.hasOwnProperty(t)}function y(e,t){return Object.fromEntries(Object.entries(e).map((e=>t(e))))}const v={priority:1/0,serialize:(e,t)=>y(e,(([e,r])=>[e,b.Serialize(r,t,!1)])),deserialize:(e,t,r)=>Object.assign(t||{},y(e,(([e,n])=>[e,b.Deserialize(n,null==t?void 0:t[e],r,!1)]))),isType:e=>(e.constructor||Object)===Object};class b{static GetSerializer(e){return b.Serializers.find((t=>t.isType(e)))}static RegisterSerializer(...e){var t;for(const r of e){const e=null!==(t=r.priority)&&void 0!==t?t:1e10,n=w(b.Serializers,(t=>void 0!==t.priority&&t.priority<e));n>=0?b.Serializers.splice(n+1,0,r):b.Serializers.push(r)}}static UnregisterSerializer(...e){for(const t of e){const e=b.Serializers.indexOf(t);e>=0&&b.Serializers.splice(e,1)}}static Serialize(e,t,r=!1){var n,i;if("function"==typeof e)return;if(!r){const r=b.GetSerializer(e);if(r)return r.serialize(e,t);if("function"==typeof e.toJSON){const r=e.toJSON(t);return e.serializableClassId&&r&&(r.serializableClassId=e.serializableClassId),r}}let o=null!==(n=e.constructor)&&void 0!==n?n:Object;const s={};for(;o&&o!==Object;){const r=null!==(i=b.TypeMap.get(o))&&void 0!==i?i:[];for(const[n,i]of r)s[n]=b.Serialize(e[i],t,!1);o=Object.getPrototypeOf(o)}return e.serializableClassId&&(s.serializableClassId=e.serializableClassId),s}static Deserialize(e,t,r,n=!1){var i,o;if(void 0===e)return t;if(t===e)return t;if(e&&"object"==typeof e&&(e.constructor||Object)===Object&&e.resource&&"string"==typeof e.resource&&e.uuid){const n=null==r?void 0:r[e.resource];if(!n)return console.warn(`Resource ${e.resource} not found`),t;if("object"==typeof(e=n[e.uuid])&&(e.__useCount=e.__useCount?e.__useCount+1:1),e||console.warn(`Resource ${e.resource} with uuid ${e.uuid} not found`),t===e)return t;if(e&&"object"==typeof e){if((e.constructor||Object)!==Object)return t?(console.warn("replacing object",t,"with deserialized object from meta",e),e):e;console.error("Deserialize; meta should only have class instances, not js objects",e,t,r)}}if(e&&"object"==typeof e&&(e.constructor||Object)!==Object&&!Array.isArray(e)&&!e.serializableClassId){if(e instanceof Blob)return e;console.warn("Data might already be deserialized. It will be cloned, or copied to source",e,"source",t,e.constructor,e.constructor!==Object)}if(e&&"object"==typeof e)if(!e.serializableClassId||t&&t.serializableClassId===e.serializableClassId)(e.constructor||Object)!==Object||t?Array.isArray(e)&&!t&&(t=[]):t={};else{const r=b.SerializableClasses.get(e.serializableClassId);r&&(t=r.DataInConstructor?new r(e):new r)}if("function"==typeof t)return console.error("cannot deserialize a function",t,e),t;if(!n){const n=b.GetSerializer(e);if(n&&n!==v)return n.deserialize(e,t,r)}if(!e||null==t||"object"!=typeof t)return e;if(!n&&"function"==typeof(null==t?void 0:t.fromJSON))return t.fromJSON(e,r),t;let s=null!==(i=t.constructor)&&void 0!==i?i:Object;if(s===Object)return v.deserialize(e,t,r);for(;s&&s!==Object;){const n=null!==(o=b.TypeMap.get(s))&&void 0!==o?o:[];for(const[i,o]of n){const n=t[o],s=b.Deserialize(e[i],n,r,!1);s!==n&&f(t,o,s,!0)}s=Object.getPrototypeOf(s)}return t}}b.TypeMap=new Map,b.SerializableClasses=new Map,b.Serializers=[{priority:0,isType:e=>Array.isArray(e),serialize:(e,t)=>e.map((e=>b.Serialize(e,t,!1))),deserialize:(e,t,r)=>{const n=e.length;Array.isArray(t)||(t=[]);for(let i=0;i<n;i++){const n=e[i],o=t.length>i?b.Deserialize(n,t[i],r,!1):b.Deserialize(n,void 0,r,!1);t.length<=i?t.push(o):t[i]=o}return t}},{priority:0,isType:e=>!e||"object"!=typeof e,serialize:e=>{if(e&&"number"==typeof e){if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN"}return e},deserialize:(e,t)=>{if("number"==typeof t){if("Infinity"===e)return 1/0;if("-Infinity"===e)return-1/0;if("NaN"===e)return NaN;if("number"==typeof e||!e)return e}return e}},v];class x{static callFunction(e,t,r=[]){if(!t)return e(...r);if(e.name&&t[e.name]===e)return e.call(t,...r);x.methodMap.has(t)||x.methodMap.set(t,new WeakMap);const n=x.methodMap.get(t);if(!n.has(e)){let i=t;for(;i;){const o=Object.values(Object.getOwnPropertyDescriptors(i));for(let i of o)if(i.value===e)return n.set(e,!0),e.call(t,...r);i=Object.getPrototypeOf(i)}n.set(e,!1)}return n.get(e)?e.call(t,...r):e(...r)}}function E(e,t="param"){if(!e)throw new Error("onChange: fnKey is undefined, make sure the function exists or provide a string");return(r,n,i)=>{const o={get(){return this[`_oc_${n}`]},set(r){var i;const o=this[`_oc_${n}`];if(o===r)return;this[`_oc_${n}`]=r;const s="param"===t?[n,r,o,this]:"object"===t?[{key:n,value:r,oldValue:o,target:this}]:[];"string"==typeof e?null===(i=this[e])||void 0===i||i.call(this,...s):"function"==typeof e&&x.callFunction(e,this,s)}};if(i)return g(i,"value")&&delete i.value,g(i,"writable")&&delete i.writable,g(i,"initializer")&&delete i.initializer,Object.assign(i,o);Object.defineProperty(r,n,o)}}function C(e,t=8192,r=!1){var n;if(!e.width||!e.height)throw new Error("Invalid bitmap");const i=document.createElement("canvas");i.width=Math.min(t,e.width),i.height=Math.floor(1+i.width*e.height/e.width);const o=e instanceof ImageBitmap,s=o&&r&&Math.abs(i.width-e.width)<.5?i.getContext("bitmaprenderer"):void 0;return s?s.transferFromImageBitmap(e):null===(n=i.getContext("2d"))||void 0===n||n.drawImage(e,0,0,i.width,i.height),o&&r&&e.close(),i}function _(e,{backgroundColor:t="",scale:r=1,width:n=512,height:i=512}){const o=document.createElement("canvas"),s=o.getContext("2d"),a=r,c=n,l=i;return o.width=c*a,o.height=l*a,o.style.width=`${c}`,o.style.height=`${l}`,(null==t?void 0:t.length)>0&&(s.fillStyle=t,s.fillRect(0,0,o.width,o.height)),s.drawImage(e,0,0,o.width,o.height),o}x.methodMap=new WeakMap;const S=async(e,t)=>_(await n(e),t),A=async(e,t)=>await S(e,t).then((e=>e.toDataURL("image/png"))),j=async e=>d(await(await fetch(e)).blob());function L(e,t,{width:r,height:n},i=!0){const o=`\n<svg viewBox="0 0 ${r} ${n}" xmlns="http://www.w3.org/2000/svg">\n    <style>\n    ${t}\n    </style>\n    <foreignObject x="0" y="0" width="100%" height="100%">\n        <div xmlns="http://www.w3.org/1999/xhtml" style="height: 100%; width: 100%; position: absolute: top:0; left:0">\n            ${e}\n        </div>\n    </foreignObject>\n</svg>\n    `;return i?p(o):o}exports.Damper=r,exports.FnCaller=x,exports.LinearToSRGB=function(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055},exports.PointerDragHelper=class extends e{constructor(){super(...arguments),this._onPointerDown=e=>{if(0!==e.button)return;if(!this._element)return;this._pointerUp=void 0;const r=e.clientX/this._element.clientWidth*2-1,n=-e.clientY/this._element.clientHeight*2+1,i=t();this._pointerDown={x:r,y:n,time:i},this._pointer=this._pointerDown,this.dispatchEvent({type:"dragStart",pointer:this._pointerDown})},this._onPointerMove=e=>{if(!this._pointerDown||!this._pointer)return;if(!this._element)return;const r=e.clientX/this._element.clientWidth*2-1,n=-e.clientY/this._element.clientHeight*2+1,i=t();this.dispatchEvent({type:"drag",pointer:this._pointer,drag:{x:r-this._pointerDown.x,y:n-this._pointerDown.y,time:i-this._pointerDown.time},delta:{x:r-this._pointer.x,y:n-this._pointer.y,time:i-this._pointer.time}}),this._pointer={x:r,y:n,time:t()},e.buttons%2==0&&this._onPointerUp(e)},this._onPointerUp=e=>{if(0!==e.button)return;if(!this._pointerDown)return;if(!this._element)return;const r=e.clientX/this._element.clientWidth*2-1,n=-e.clientY/this._element.clientHeight*2+1,i=t();this._pointerUp={x:r,y:n,time:i},this.dispatchEvent({type:"dragEnd",pointer:this._pointerUp,drag:{x:this._pointerUp.x-this._pointerDown.x,y:this._pointerUp.y-this._pointerDown.y,time:this._pointerUp.time-this._pointerDown.time}}),this._pointerDown=void 0,this._pointer=void 0}}get element(){return this._element}set element(e){this._element!==e&&(this._element&&this._removeElement(),this._element=e,this._element&&this._addElement())}_removeElement(){var e,t,r,n,i;null===(e=this._element)||void 0===e||e.removeEventListener("pointerdown",this._onPointerDown),null===(t=this._element)||void 0===t||t.removeEventListener("pointermove",this._onPointerMove),null===(r=this._element)||void 0===r||r.removeEventListener("pointerup",this._onPointerUp),null===(n=this._element)||void 0===n||n.removeEventListener("pointercancel",this._onPointerUp),null===(i=this._element)||void 0===i||i.removeEventListener("pointerout",this._onPointerUp)}_addElement(){var e,t,r,n,i;null===(e=this._element)||void 0===e||e.addEventListener("pointerdown",this._onPointerDown),null===(t=this._element)||void 0===t||t.addEventListener("pointermove",this._onPointerMove),null===(r=this._element)||void 0===r||r.addEventListener("pointerup",this._onPointerUp),null===(n=this._element)||void 0===n||n.addEventListener("pointercancel",this._onPointerUp),null===(i=this._element)||void 0===i||i.addEventListener("pointerout",this._onPointerUp)}dispose(){this.element=void 0}},exports.SRGBToLinear=function(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)},exports.Serialization=b,exports.SimpleEventDispatcher=e,exports.TYPED_ARRAYS=s,exports.absMax=function(e,t){return Math.abs(e)>Math.abs(t)?e:t},exports.aesGcmDecrypt=async function(e,t){const r="string"==typeof t?(new TextEncoder).encode(t):t,n=await crypto.subtle.digest("SHA-256",r),i=e.slice(0,12),o={name:"AES-GCM",iv:"string"==typeof i?new Uint8Array(Array.from(i).map((e=>e.charCodeAt(0)))):i},s=await crypto.subtle.importKey("raw",n,o,!1,["decrypt"]),a=e.slice(12),c="string"==typeof a?new Uint8Array(Array.from(a).map((e=>e.charCodeAt(0)))):a;try{const t=await crypto.subtle.decrypt(o,s,c);return"string"==typeof e?(new TextDecoder).decode(t):new Uint8Array(t)}catch(e){throw new Error("Decrypt failed")}},exports.aesGcmEncrypt=async function(e,t,r){const n="string"==typeof t?(new TextEncoder).encode(t):t,i=await crypto.subtle.digest("SHA-256",n),o=crypto.getRandomValues(new Uint8Array(12)),s=Array.from(o).map((e=>String.fromCharCode(e))).join(""),a={name:"AES-GCM",iv:o},c=await crypto.subtle.importKey("raw",i,a,!1,["encrypt"]),l="string"==typeof e?(new TextEncoder).encode(e):e,p=await crypto.subtle.encrypt(a,c,l),u=new Uint8Array(p),d=Array.from(u),h=d.map((e=>String.fromCharCode(e))).join(""),m=r?"string"==typeof r?r:(new TextDecoder).decode(r):"",f=r?"string"==typeof r?(new TextEncoder).encode(r):Array.from(r):[];return"string"==typeof e?m+s+h:new Uint8Array([...f,...o,...d])},exports.arrayBufferToBase64=function(e){if(!window)return console.warn("window is required"),"";let t="";const r=new Uint8Array(e),n=r.byteLength;for(let e=0;e<n;e++)t+=String.fromCharCode(r[e]);return window.btoa(t)},exports.base64ToArrayBuffer=function(e){if(!window)return console.warn("window is required"),new Uint8Array(0);const t=window.atob(e),r=t.length,n=new Uint8Array(r);for(let e=0;e<r;e++)n[e]=t.charCodeAt(e);return n.buffer},exports.blobToDataURL=d,exports.blobToImage=function(e){return new Promise(((t,r)=>{const n=new Image,i=URL.createObjectURL(e);n.onload=()=>{URL.revokeObjectURL(i),t(n)},n.onerror=e=>{URL.revokeObjectURL(i),r(e)},n.src=i}))},exports.canvasFlipY=function(e){const t=document.createElement("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");if(!r)throw new Error("Unable to get 2d context");return r.translate(0,e.height),r.scale(1,-1),r.drawImage(e,0,0),t},exports.clearBit=function(e,t){return e&~(1<<t)},exports.cloneScriptTag=o,exports.colorToDataUrl=function(e,t=1,r=1){const n=document.createElement("canvas");n.width=t,n.height=r;const i=n.getContext("2d");i.fillStyle="#"+e,i.fillRect(0,0,t,r);const o=n.toDataURL();return n.remove(),o},exports.copyProps=function(e,t,r){for(const n of r){const r=e[n];void 0!==r&&f(t,n,r,!0)}return t},exports.createCanvasElement=function(){const e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return e.style.display="block",e},exports.createDiv=function({innerHTML:e="",id:t,classList:r,addToBody:n=!0,elementTag:i="div"}){const o=document.createElement(i);return t&&(o.id=t),o.innerHTML=e,r&&o.classList.add(...r),n&&document.body.appendChild(o),o},exports.createImage=n,exports.createScriptFromURL=async function(e,t=document.head){return new Promise(((r,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.addEventListener("load",(()=>r(i))),i.addEventListener("error",n),t.appendChild(i)}))},exports.createStyles=i,exports.css=l,exports.deepAccessObject=function(e,t,r=!1){for("string"==typeof e&&(e=e.split("."));e.length>0;){if(!t)return;const n=e.splice(0,1)[0];if(!(n.length<1)){if(!(n in t)){if(r)throw new Error("invalid access, check "+n+" in "+t);return}t=t[n]}}return t},exports.downloadBlob=u,exports.downloadFile=function(e,t){return u(e,null!=t?t:e.name)},exports.embedUrlRefs=async function(e,t=j){const r=e.match(/(((ftp|https?):\/\/)[\-\w@:%_\+.~#?,&\/\/=]+)/g);if(r)for(const n of r){const r=await t(n);e=e.replace(n,r)}return e},exports.escapeRegExp=a,exports.findLastIndex=w,exports.getFileHandle=async function(){return"showOpenFilePicker"in window?window.showOpenFilePicker().then((e=>e[0])):window.chooseFileSystemEntries()},exports.getFilenameFromPath=function(e){return e.substring(e.lastIndexOf("/")+1)},exports.getKeyByValue=function(e,t){return Object.keys(e).find((r=>e[r]===t))},exports.getNewFileHandle=function(){if("showSaveFilePicker"in window){const e={types:[{description:"Text file",accept:{"text/plain":[".txt"]}}]};return window.showSaveFilePicker(e)}return window.chooseFileSystemEntries({type:"save-file",accepts:[{description:"Text file",extensions:["txt"],mimeTypes:["text/plain"]}]})},exports.getOrCall=function(e,...t){return"function"==typeof e&&(e=e(...t)),e},exports.getPropertyDescriptor=h,exports.getTypedArray=function(e,t){return new s[e](t)},exports.getUrlQueryParam=function(e,t=null){var r;return null!==(r=new URL(window.location.href).searchParams.get(e))&&void 0!==r?r:t},exports.glsl=(e,...t)=>String.raw({raw:e},...t),exports.html=(e,...t)=>String.raw({raw:e},...t),exports.htmlToCanvas=async function(e,t,r){const n=L(e,t,r);return await S(n,r)},exports.htmlToPng=async function(e,t,r){const n=L(e,t,r);return await A(n,r)},exports.htmlToSvg=L,exports.imageBitmapToBase64=function(e,t=8192,r=!1,n="image/png"){if(!e.width||!e.height)return"";const i=C(e,t,!1),o=i.toDataURL(n);return i.remove(),r&&e instanceof ImageBitmap&&e.close(),o},exports.imageBitmapToBlob=async function(e,t=8192,r=!1,n="image/png"){if(!e.width||!e.height)return Promise.reject("Invalid bitmap");const i=C(e,t,!1);return new Promise(((t,o)=>{i.toBlob((n=>{n?t(n):o("Could not get blob"),i.remove(),r&&e instanceof ImageBitmap&&e.close()}),n)}))},exports.imageBitmapToCanvas=C,exports.imageDataToCanvas=function(e){const t=document.createElement("canvas");return t.width=e.width,t.height=e.height,t.getContext("2d").putImageData(e,0,0),t},exports.imageToCanvas=_,exports.imageUrlToImageData=async function(e){return new Promise(((t,r)=>{const n=new Image;n.addEventListener("load",(()=>{const e=document.createElement("canvas");e.width=n.width,e.height=n.height;const i=e.getContext("2d");if(!i)return void r(new Error("Could not get 2d context"));i.drawImage(n,0,0,e.width,e.height);const o=i.getImageData(0,0,e.width,e.height);t(o),e.remove(),n.remove()}),!1),n.addEventListener("error",(e=>{n.remove(),r(e)}),!1),n.src=e}))},exports.includesAll=function(e,t){for(const r of t)if(!e.includes(r))return!1;return!0},exports.isPropertyWritable=m,exports.isWebpExportSupported=function(){const e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))&&e.toDataURL("image/webp").startsWith("data:image/webp")},exports.longestCommonPrefix=function(e){return e.sort(),e[0].split("").map(((t,r)=>e[e.length-1][r]===t?t:"\0")).join("").split("\0").at(0)||""},exports.makeColorSvg=e=>`data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='16' height='16' fill='%23${e}'/%3E%3C/svg%3E%0A`,exports.makeColorSvgCircle=e=>`data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='8' cy='8' r='7' fill='%23${e}'/%3E%3C/svg%3E%0A`,exports.makeTextSvg=e=>`data:image/svg+xml,%3Csvg viewBox='0 0 80 14' xmlns='http://www.w3.org/2000/svg'%3E%3Ctext style='font: 8px "Roboto Mono", "Source Code Pro", Menlo, Courier, monospace; fill: white;' x='9' y='9'%3E${e}%3C/text%3E%3C/svg%3E%0A`,exports.mobileAndTabletCheck=function(){let e=!1;var t;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e},exports.now=t,exports.objectHasOwn=g,exports.objectMap=function(e,t,r=!0){const n=r?e:{},i=Object.keys(e);for(const r of i)n[r]=t(e[r],r);return n},exports.objectMap2=y,exports.onChange=E,exports.onChange2=function(e,t="void"){if(!e)throw new Error("onChange: fnKey is undefined, make sure the function exists or provide a string");return E(e,t)},exports.onChange3=function(e,t="object"){if(!e)throw new Error("onChange: fnKey is undefined, make sure the function exists or provide a string");return E(e,t)},exports.onChangeDispatchEvent=function(e){return E(((t,r,n,i)=>{if(!i.dispatchEvent)throw new Error("onChangeDispatchEvent: target does not have dispatchEvent");i.dispatchEvent({type:e||`${t}-changed`,detail:{key:t,value:r,oldValue:n}})}),"param")},exports.parseFileExtension=function(e){var t;if(!e||""===e||e.match(/__MACOSX\/.*\._/))return"";const r=null!==(t=(e=e.replace(/\?.*$/,"")).split(/[\\/]/).pop())&&void 0!==t?t:"",n=r.lastIndexOf(".");return""===r||n<1?"":r.slice(n+1)},exports.pathJoin=function(e,t="/"){return e.join(t)},exports.prettyScrollbar=function(e=document.head){return i(l`
      ::-webkit-scrollbar
      {
        width: 8px;  /* for vertical scrollbars */
        height: 8px; /* for horizontal scrollbars */
      }
      ::-webkit-scrollbar-track
      {
        background: rgba(64, 64, 64, 0.4);
        border-radius: 6px;
      }
      ::-webkit-scrollbar-thumb
      {
        background: rgba(128, 128, 128, 0.2);
        border-radius: 6px;
      }
      ::-webkit-scrollbar-corner {background: rgba(0,0,0,0.5);}
    `,e)},exports.readFile=function(e){return e.text?e.text():function(e){return new Promise((t=>{const r=new FileReader;r.addEventListener("loadend",(e=>{const r=(e.srcElement||e.target).result;t(r)})),r.readAsText(e)}))}(e)},exports.remoteWorkerURL=function(e,t){const r=(t?`var Module = { locateFile: function(s) { return "${t}"; } }; \n`:"")+`importScripts( "${e}" );`;return URL.createObjectURL(new Blob([r],{type:"text/javascript"}))},exports.replaceAll=c,exports.safeReplaceString=function(e,t,r,{replaceAll:n=!1,prepend:i=!1,append:o=!1,notFoundCallback:s=(()=>{})}={}){if(s&&!e.includes(t))return s(),e;let a=r;return i?a=r+t:o&&(a=t+r),n?e.replaceAll(t,a):e.replace(t,a)},exports.safeSetProperty=f,exports.serializable=function(e){return t=>(t=class extends t{constructor(){super(...arguments),this.serializableClassId=e}},b.SerializableClasses.set(e,t),t)},exports.serialize=function(e){return(t,r)=>{const n=t.constructor;if(n===Object)throw new Error("All properties in an object are serialized by default");b.TypeMap.has(n)||b.TypeMap.set(n,[]),b.TypeMap.get(n).push([e||r,r])}},exports.setInnerHTMLWithScripts=async function(e,t){var r;e.innerHTML=t;const n=e.getElementsByTagName("script");for(let e=0;e<n.length;e++){const t=n[e],i=o(t);let s=!1;await new Promise((e=>{i.onload=e,i.onerror=()=>{s=!0,e(void 0)}})),s||(null===(r=t.parentNode)||void 0===r||r.replaceChild(i,t))}},exports.setUrlQueryParam=function(e,t,r=!1){const n=new URLSearchParams(location.search);null==t?n.has(e)&&n.delete(e):n.set(e,t),r?window.location.search=n.toString():window.history.replaceState({},"","?"+n.toString())},exports.svgToCanvas=S,exports.svgToPng=A,exports.svgUrl=p,exports.timeout=async function(e){return new Promise((t=>setTimeout(t,Math.max(0,e))))},exports.toCamelCase=function(e){return e.replace(/([-_][a-z])/gi,(e=>e.toUpperCase().replace("-","").replace("_","")))},exports.toTitleCase=function(e){return e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))},exports.updateBit=function(e,t,r){return e&~(1<<t)|(r?1:0)<<t},exports.uploadFile=async function(e=!1,t=!1,r){const n=document.createElement("input");n.type="file",n.multiple=e,n.accept=r||"*",n.webkitdirectory=t,n.style.display="none",document.body.appendChild(n),n.click();const i=await new Promise((e=>{n.onchange=t=>{e(Array.from(n.files||[]))}}));return document.body.removeChild(n),i},exports.uuidV4=function(){const e=(e,t)=>e.toString(16).padStart(t,"0"),t=crypto.getRandomValues(new Uint8Array(16));t[6]=15&t[6]|64,t[8]=63&t[8]|128;const r=new DataView(t.buffer);return`${e(r.getUint32(0),8)}-${e(r.getUint16(4),4)}-${e(r.getUint16(6),4)}-${e(r.getUint16(8),4)}-${e(r.getUint32(10),8)}${e(r.getUint16(14),4)}`},exports.verifyPermission=async function(e,t){const r={};return t&&(r.writable=!0,r.mode="readwrite"),"granted"===await e.queryPermission(r)||"granted"===await e.requestPermission(r)},exports.wrapThisFunction=function(e,t){return function(...r){return e(),t&&t.call(this,...r)}},exports.wrapThisFunction2=function(e,t){return function(...r){return e(...r),t&&t.call(this,...r)}},exports.writeFile=async function(e,t){if(e.createWriter){const r=await e.createWriter();return await r.write(0,t),void await r.close()}const r=await e.createWritable();await r.write(t),await r.close()};
//# sourceMappingURL=bundle.min.js.map
